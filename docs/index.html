<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Make Interactive Complex Heatmaps • InteractiveComplexHeatmap</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Make Interactive Complex Heatmaps">
<meta property="og:description" content="This package can easily make heatmaps which are produced 
    by the ComplexHeatmap package into interactive applications. It provides two types of interactivities: 
    1. on the interactive graphics device, and 2. on a Shiny app. It also provides 
    functions for integrating the interactive heatmap widgets for more complex Shiny app development.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">InteractiveComplexHeatmap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.11.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/InteractiveComplexHeatmap_intro.html">How to visualize complex heatmaps interactively</a>
    </li>
    <li>
      <a href="articles/implementation.html">How interactive complex heatmap is implemented</a>
    </li>
    <li>
      <a href="articles/shiny_dev.html">Functions for Shiny app development</a>
    </li>
    <li>
      <a href="articles/decoration.html">Decorations on heatmaps</a>
    </li>
    <li>
      <a href="articles/interactivate_indirect.html">Interactivate heatmaps indirectly generated by pheatmap(), heatmap.2() and heatmap()</a>
    </li>
    <li>
      <a href="articles/deseq2_app.html">A Shiny app for visualizing DESeq2 results</a>
    </li>
    <li>
      <a href="articles/from_scratch.html">Implement interactive heatmap from scratch</a>
    </li>
    <li>
      <a href="articles/share.html">Share interactive heatmaps to collaborators</a>
    </li>
    <li>
      <a href="https://www.biorxiv.org/content/10.1101/2021.03.08.434289v7.full.pdf" class="external-link">PDF version</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jokergoo/InteractiveComplexHeatmap/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="make-interactive-complex-heatmaps">Make Interactive Complex Heatmaps<a class="anchor" aria-label="anchor" href="#make-interactive-complex-heatmaps"></a>
</h1></div>
<p><a href="https://github.com/jokergoo/InteractiveComplexHeatmap/actions" class="external-link"><img src="https://github.com/jokergoo/InteractiveComplexHeatmap/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a> <a href="https://bioconductor.org/packages/stats/bioc/InteractiveComplexHeatmap/" class="external-link"><img src="http://www.bioconductor.org/shields/downloads/devel/InteractiveComplexHeatmap.svg" alt="bioc"></a> <a href="http://bioconductor.org/packages/devel/bioc/html/InteractiveComplexHeatmap.html" class="external-link"><img src="http://www.bioconductor.org/shields/years-in-bioc/InteractiveComplexHeatmap.svg" alt="bioc"></a></p>
<p><img width="1150" alt="Screenshot 2021-07-19 at 21 31 14" src="https://user-images.githubusercontent.com/449218/126217251-8eee8ce8-7e7f-4251-b844-800dd72481bd.png"></p>
<p><strong>InteractiveComplexHeatmap</strong> is an R package that converts static heatmaps produced from <a href="https://github.com/jokergoo/ComplexHeatmap" class="external-link"><strong>ComplexHeatmap</strong></a> package into an interactive Shiny app only with one extra line of code.</p>
<p>The first example is the default layout of the interactive complex heatmap widget.</p>
<p><img src="https://user-images.githubusercontent.com/449218/110212910-e6147e00-7e9d-11eb-94ed-0ac549247888.gif" width="100%" border="black"></p>
<p>The second example demonstrates a DESeq2 result with integrating the package <strong>shinydashboard</strong>.</p>
<p><img src="https://user-images.githubusercontent.com/449218/111832925-b16ae280-88f1-11eb-8530-290374f9f2c2.gif" width="100%" border="black"></p>
<div class="section level3">
<h3 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h3>
<p>Zuguang Gu, et al., Make Interactive Complex Heatmaps in R, 2021, Bioinformatics, <a href="https://doi.org/10.1093/bioinformatics/btab806" class="external-link uri">https://doi.org/10.1093/bioinformatics/btab806</a></p>
</div>
<div class="section level2">
<h2 id="install">Install<a class="anchor" aria-label="anchor" href="#install"></a>
</h2>
<p><strong>InteractiveComplexHeatmap</strong> is available on <a href="http://bioconductor.org/packages/devel/bioc/html/InteractiveComplexHeatmap.html" class="external-link">Bioconductor</a>, you can install it by:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"BiocManager"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"InteractiveComplexHeatmap"</span><span class="op">)</span></span></code></pre></div>
<p>If you want the latest version, install it directly from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"jokergoo/InteractiveComplexHeatmap"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p>There are the following vignettes along with the package:</p>
<ol style="list-style-type: decimal">
<li><a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/InteractiveComplexHeatmap.html" class="external-link">How to visualize heatmaps interactively</a></li>
<li><a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/implementation.html" class="external-link">How interactive complex heatmap is implemented</a></li>
<li><a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/shiny_dev.html" class="external-link">Functions for Shiny app development</a></li>
<li><a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/decoration.html" class="external-link">Decorations on heatmaps</a></li>
<li><a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/interactivate_indirect.html" class="external-link">Interactivate heatmaps indirectly generated by pheatmap(), heatmap.2() and heatmap()</a></li>
<li><a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/deseq2_app.html" class="external-link">A Shiny app for visualizing DESeq2 results</a></li>
<li><a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/from_scratch.html" class="external-link">Implement interactive heatmap from scratch</a></li>
<li><a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/share.html" class="external-link">Share interactive heatmaps to collaborators</a></li>
</ol>
<p>A printer-friendly version of the documentation is available at <a href="https://doi.org/10.1101/2021.03.08.434289" class="external-link">bioRxiv</a>.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="directly-turn-heatmaps-interactive">Directly turn heatmaps interactive<a class="anchor" aria-label="anchor" href="#directly-turn-heatmaps-interactive"></a>
</h3>
<p>With any <code>Heatmap</code>/<code>HeatmapList</code> object, directly send to <code><a href="reference/htShiny.html">htShiny()</a></code> to create a Shiny app for your heatmap(s):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/htShiny.html">htShiny</a></span><span class="op">(</span><span class="va">ht_list</span><span class="op">)</span></span></code></pre></div>
<p>If the heatmaps are already drawn, <code>ht_list</code> can be omitted and the last heatmap object is retrieved automatically:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">Heatmap</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">+</span> <span class="va">other_heatmaps_or_annotations</span> <span class="co"># or other functions that internally use Heatmap()</span></span>
<span><span class="fu"><a href="reference/htShiny.html">htShiny</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="shiny-app-development">Shiny app development<a class="anchor" aria-label="anchor" href="#shiny-app-development"></a>
</h3>
<p>There are also two functions for Shiny app development:</p>
<ul>
<li>
<code><a href="reference/InteractiveComplexHeatmapOutput.html">InteractiveComplexHeatmapOutput()</a></code>: for the UI on the client side.</li>
<li>
<code><a href="reference/makeInteractiveComplexHeatmap.html">makeInteractiveComplexHeatmap()</a></code>: for processing on the sever side.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jokergoo/InteractiveComplexHeatmap" class="external-link">InteractiveComplexHeatmap</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jokergoo/ComplexHeatmap" class="external-link">ComplexHeatmap</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ht</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">Heatmap</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="va">ht</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/draw-dispatch.html" class="external-link">draw</a></span><span class="op">(</span><span class="va">ht</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">=</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="reference/InteractiveComplexHeatmapOutput.html">InteractiveComplexHeatmapOutput</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="reference/makeInteractiveComplexHeatmap.html">makeInteractiveComplexHeatmap</a></span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span>, <span class="va">ht</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>You can also put multiple interactive heatmaps widgets in the same Shiny app:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ht1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">Heatmap</a></span><span class="op">(</span><span class="va">m</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ht1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/draw-dispatch.html" class="external-link">draw</a></span><span class="op">(</span><span class="va">ht1</span><span class="op">)</span></span>
<span><span class="va">ht2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">Heatmap</a></span><span class="op">(</span><span class="va">m</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ht2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/draw-dispatch.html" class="external-link">draw</a></span><span class="op">(</span><span class="va">ht2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">=</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="fu">h3</span><span class="op">(</span><span class="st">"The first heatmap"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="reference/InteractiveComplexHeatmapOutput.html">InteractiveComplexHeatmapOutput</a></span><span class="op">(</span><span class="st">"ht1"</span><span class="op">)</span>,</span>
<span>    <span class="fu">hr</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="fu">h3</span><span class="op">(</span><span class="st">"The second heatmap"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="reference/InteractiveComplexHeatmapOutput.html">InteractiveComplexHeatmapOutput</a></span><span class="op">(</span><span class="st">"ht2"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="reference/makeInteractiveComplexHeatmap.html">makeInteractiveComplexHeatmap</a></span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span>, <span class="va">ht1</span>, <span class="st">"ht1"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="reference/makeInteractiveComplexHeatmap.html">makeInteractiveComplexHeatmap</a></span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span>, <span class="va">ht2</span>, <span class="st">"ht2"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>Two additional functions to let you dynamically load interactive heatmap widgets:</p>
<ul>
<li>
<code><a href="reference/InteractiveComplexHeatmapModal.html">InteractiveComplexHeatmapModal()</a></code>: The interactive heatmap widget is inserted as a “modal”.</li>
<li>
<code><a href="reference/InteractiveComplexHeatmapWidget.html">InteractiveComplexHeatmapWidget()</a></code>: The interactive heatmap widget is inserted into a place defined by users.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">ht</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">Heatmap</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span>    </span>
<span><span class="va">ui</span> <span class="op">=</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="fu">actionButton</span><span class="op">(</span><span class="st">"show_heatmap"</span>, <span class="st">"Generate_heatmap"</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">show_heatmap</span>, <span class="op">{</span></span>
<span>        <span class="fu"><a href="reference/InteractiveComplexHeatmapModal.html">InteractiveComplexHeatmapModal</a></span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span>, <span class="va">ht</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># or use InteractiveComplexHeatmapWidget()</span></span>
<span><span class="va">ui</span> <span class="op">=</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="fu">actionButton</span><span class="op">(</span><span class="st">"show_heatmap"</span>, <span class="st">"Generate_heatmap"</span><span class="op">)</span>,</span>
<span>    <span class="fu">htmlOutput</span><span class="op">(</span><span class="st">"heatmap_output"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">show_heatmap</span>, <span class="op">{</span></span>
<span>        <span class="fu"><a href="reference/InteractiveComplexHeatmapWidget.html">InteractiveComplexHeatmapWidget</a></span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span>, <span class="va">ht</span>,</span>
<span>            output_id <span class="op">=</span> <span class="st">"heatmap_output"</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="interactivate-pheatmap-heatmap2-and-heatmap">Interactivate pheatmap(), heatmap.2() and heatmap()<a class="anchor" aria-label="anchor" href="#interactivate-pheatmap-heatmap2-and-heatmap"></a>
</h2>
<p>If you directly use these three funtions, simply replace them with <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/pheatmap.html" class="external-link">ComplexHeatmap::pheatmap()</a></code>, <code>ComplexHeatmap:::heatmap.2()</code> and <code>ComplexHeatmap:::heatmap()</code>. If the three functions are used indirectly, e.g. a function <code>foo()</code> (maybe from another packages or other people’s functions) which internally uses these three heatmap functions, check the vignette <a href="https://jokergoo.github.io/InteractiveComplexHeatmap/articles/interactivate_indirect.html" class="external-link">“Interactivate indirect use of pheatmap(), heatmap.2() and heatmap()”</a> to find out how.</p>
</div>
<div class="section level2">
<h2 id="live-examples">Live examples<a class="anchor" aria-label="anchor" href="#live-examples"></a>
</h2>
<p>Following lists several live examples of interactive heatmaps. Details can be found in the package vignette.</p>
<ul>
<li><a href="https://jokergoo.shinyapps.io/interactive_complexheatmap/" class="external-link uri">https://jokergoo.shinyapps.io/interactive_complexheatmap/</a></li>
<li><a href="https://jokergoo.shinyapps.io/interactive_complexheatmap_vertical/" class="external-link uri">https://jokergoo.shinyapps.io/interactive_complexheatmap_vertical/</a></li>
<li><a href="https://jokergoo.shinyapps.io/interactive_densityheatmap/" class="external-link uri">https://jokergoo.shinyapps.io/interactive_densityheatmap/</a></li>
<li><a href="https://jokergoo.shinyapps.io/interactive_oncoprint/" class="external-link uri">https://jokergoo.shinyapps.io/interactive_oncoprint/</a></li>
<li><a href="https://jokergoo.shinyapps.io/interactive_enrichedheatmap/" class="external-link uri">https://jokergoo.shinyapps.io/interactive_enrichedheatmap/</a></li>
<li><a href="https://jokergooo.shinyapps.io/interactive_upset/" class="external-link uri">https://jokergooo.shinyapps.io/interactive_upset/</a></li>
<li><a href="https://jokergooo.shinyapps.io/interactive_pheatmap/" class="external-link uri">https://jokergooo.shinyapps.io/interactive_pheatmap/</a></li>
<li><a href="https://jokergooo.shinyapps.io/interactive_heatmap/" class="external-link uri">https://jokergooo.shinyapps.io/interactive_heatmap/</a></li>
<li><a href="https://jokergooo.shinyapps.io/interactive_heatmap_2/" class="external-link uri">https://jokergooo.shinyapps.io/interactive_heatmap_2/</a></li>
<li><a href="https://jokergooo.shinyapps.io/interactive_tidyheatmap/" class="external-link uri">https://jokergooo.shinyapps.io/interactive_tidyheatmap/</a></li>
</ul>
<p>There are also many other examples provided in the package.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/htShinyExample.html">htShinyExample</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>There are following examples. Individual example can be run by e.g. htShinyExample(1.1).

──────── 1. Simple examples ─────────────────────────────────────────────────────────
 1.1 A single heatmap with minimal arguments.
 1.2 A single heatmap from a character matrix.
 1.3 A single heatmap with annotations on both rows and columns.
 1.4 A single heatmap where rows and columns are split.
 1.5 A list of two heatmaps.
 1.6 A list of two vertically concatenated heatmaps
 1.7 Use last generated heatmap, an example from cola package.
 1.8 Use last generated heatmap, an app with three interactive heatmaps
 1.9 Demonstrate hover, click and dblclick actions to select cells.
 1.10 Only response to one of click/hover/dblclick/hover events. Please use
      htShinyExample('1.10') to get this example (quote the index, or else
      htShinyExample(1.10) will be treated as the same as htShinyExample(1.1)).
 1.11 Interactive heatmap under compact mode.

──────── 2. On other plots and packages ─────────────────────────────────────────────
 2.1 A density heatmap.
 2.2 An oncoPrint.
 2.3 A UpSet plot.
 2.4 An interactive heatmap from pheatmap().
 2.5 An interactive heatmap from heatmap().
 2.6 An interactive heatmap from heatmap.2().
 2.7 A heatmap produced from tidyHeatmap package.
 2.8 Genome-scale heatmap.
 2.9 A package-dependency heatmap. You can try to control "Fill figure region"
     and "Remove empty rows and columns" in the tools under the sub-heatmap.

──────── 3. Enriched heatmaps ───────────────────────────────────────────────────────
 3.1 A single enriched heatmap.
 3.2 A list of enriched heatmaps.
 3.3 An enriched heatmap with discrete signals.

──────── 4. On public datasets ──────────────────────────────────────────────────────
 4.1 An example from Lewis et al 2019.
 4.2 Visualize cell heterogeneity from single cell RNASeq.
 4.3 Correlations between methylation, expression and other genomic features.

──────── 5. Shiny app development ───────────────────────────────────────────────────
 5.1 A single Shiny app with two interactive heatmap widgets.
 5.2 Self-define the output. The selected sub-matrix is shown as a text table.
 5.3 Self-define the output. Additional annotations for the selected genes are
     shown.
 5.4 Visualize Gene Ontology similarities. A list of selected GO IDs as well as
     their descriptions are shown in the output.
 5.5 Interactive correlation heatmap. Clicking on the cell generates a
     scatterplot of the two corresponding variables.
 5.6 A heatmap on Jaccard coefficients for a list of genomic regions. Clicking
     on the cell generates a Hilbert curve of how the two sets of genomic
     regions overlap.
 5.7 Implement interactivity from scratch. Instead of generating the whole
     interactive heatmap widget, it only returns the information of rows and
     columns that user have selected on heatmap and users can use this
     information to build their own interactive heatmap widgets.
 5.8 Implement interactivity from scratch. A visualization of 2D density
     distribution. Brushing on heatmap triggers a new 2D density estimation
     only on the subset of data.

──────── 6. Dynamically generate heatmap widget in Shiny app ────────────────────────
 6.1 The matrix with different dimensions is dynamically generated.
 6.2 Reorder by a column that is specified by user.
 6.3 Dynamically generate the widget with InteractiveComplexHeatmapModal(). The
     modal is triggered by an action button.
 6.4 Dynamically select interactive heatmaps. The modal is triggered by radio
     buttons.
 6.5 Dynamically generate the widget. A customized Javascript code is inserted
     after the UI to change the default behavior of the action button.
 6.6 The widget is generated by InteractiveComplexHeatmapWidget() where the UI
     is directly put in the place defined by htmlOutput().
 6.7 The widget is generated by InteractiveComplexHeatmapWidget() and a
     customized Javascript code is inserted after the UI.

──────── 7. Interactive R markdown document ─────────────────────────────────────────
 7.1 Integrate in an interactive R Markdown document.
 7.2 Integrate in an interactive R Markdown document where the heatmap widgets
     are dynamically generated.

──────── 8. Interactivate heatmaps indirectly generated by heatmap()/heatmap.2()/pheatmap()
 8.1 Indirect use of pheatmap().
 8.2 Indirect use of heatmap.2().
 8.3 Two interactive heatmap widgets from indirect use of pheatmap().

──────── 9. Float output UI along with mouse positions ──────────────────────────────
 9.1 A simple example that demonstrates output UI floating with the three
     actions: hover, click and dblclick.
 9.2 Floating self-defined outputs.
 9.3 Floating output only from one event on heatmap, i.e.
     hover/click/dblclick/brush-output.

──────── 10. Work with shinydashboard ────────────────────────────────────────────────
 10.1 Separate the three UI components into three boxes.
 10.2 The three UI components are draggable.
 10.3 A Shiny dashboard with two tabs.
 10.4 Only contain the original heatmap where output floats.
 10.5 A complex dashboard that visualizes a DESeq2 results.</code></pre>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT @ Zuguang Gu</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://www.bioconductor.org/packages/InteractiveComplexHeatmap" class="external-link">View on Bioconductor</a></li>
<li><a href="https://github.com/jokergoo/InteractiveComplexHeatmap/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jokergoo/InteractiveComplexHeatmap/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing InteractiveComplexHeatmap</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zuguang Gu <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-7395-8709" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Zuguang Gu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  <style>nav[data-toggle='toc'] .nav .nav {display: block;}</style>
</body>
</html>
